// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Customer {
  id      Int     @id @default(autoincrement())
  name    String
  email   String?
  phone   String?
  street1 String?
  street2 String?
  city    String?
  state   String?
  zipCode String?
  createdAt   DateTime @default(now()) 
  updatedAt   DateTime @updatedAt 

  CustomerProduct CustomerProduct[]
}

model Product {
  id          Int           @id @default(autoincrement())
  name        String
  unitOfMeasure unitOfMeasure
  createdAt   DateTime      @default(now()) 
  updatedAt   DateTime      @updatedAt 

  CustomerProduct CustomerProduct[]
}

model CustomerProduct {
  id          Int           @id @default(autoincrement())
  customer    Customer      @relation(fields: [customerId], references: [id])
  customerId  Int
  product     Product       @relation(fields: [productId], references: [id])
  productId   Int
  createdAt   DateTime      @default(now()) 
  updatedAt   DateTime      @updatedAt 

  @@unique([customerId, productId]) 
}

enum unitOfMeasure {
  bag
  barrel
  box
  bunch
  bundle
  butt
  canister
  carton
  case
  container
  crate
  cubicCentimeter
  cubicFoot
  cubicInch
  cubicMeter
  cubicYard
  cup
  dozen
  each
  canadianEach
  gallon
  gram
  gross
  kilogram
  liter
  metricTon
  milliliter
  ounce
  pair
  piece
  pint
  pound
  quart
  set
  ton
}

